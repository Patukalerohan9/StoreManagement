<div class="double-bg">
  <div class="container my-4">

    <!-- Header Row -->
    <div class="d-flex flex-wrap justify-content-between align-items-center mb-3 gap-2">
      <h4 class="text-primary mb-0">Customer Details</h4>
      <div class="d-flex flex-wrap gap-2">
        <button type="button" class="btn btn-primary btn-sm" routerLink="/form">New Order</button>
        <button type="button" class="btn btn-success btn-sm" routerLink="/dashboard">Dashboard</button>
      </div>
    </div>

    <!-- Search Form -->
    <form [formGroup]="searchForm" class="row g-2 mb-3 align-items-center">
      <div class="col-12 col-sm-8 col-md-6">
        <input
          type="text"
          class="form-control form-control-sm"
          formControlName="searchText"
          placeholder="Search by name or mobile..."
        />
      </div>
    </form>

    <!-- Table Section -->
    <div class="card shadow-sm">
      <div class="table-responsive">
        <table class="table table-bordered table-striped table-sm text-center align-middle mb-0">
          <thead class="table-dark sticky-top">
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Mobile</th>
              <th>Dress Type</th>
              <th>Status</th>
              <th>Delivery Date</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <!-- No Records -->
            <tr *ngIf="filteredCustomers().length === 0">
              <td colspan="7" class="text-muted text-center py-3">
                No customers found
              </td>
            </tr>

            <!-- Data Rows -->
            <tr
              *ngFor="let customer of filteredCustomers() | slice:(page-1)*pageSize:(page-1)*pageSize + pageSize; let i = index"
            >
              <td>{{ (page - 1) * pageSize + i + 1 }}</td>
              <td>{{ customer.name }}</td>
              <td>{{ customer.mobile }}</td>
              <td>{{ customer.dressType }}</td>
              <td>{{ customer.status }}</td>
              <td>{{ customer.deliveryDate }}</td>
              <td>
                <button class="btn btn-warning btn-sm" (click)="updateCustomer(customer)">
                  Update
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Pagination Controls -->
    <nav aria-label="Page navigation" class="mt-3">
      <ul class="pagination justify-content-center flex-wrap gap-1 mb-0">
        <li class="page-item" [class.disabled]="page === 1">
          <button class="page-link btn-sm" (click)="page = page - 1">Previous</button>
        </li>

        <li
          class="page-item"
          *ngFor="let p of totalPagesArray()"
          [class.active]="page === p"
        >
          <button class="page-link btn-sm" (click)="page = p">{{ p }}</button>
        </li>

        <li class="page-item" [class.disabled]="page === totalPages()">
          <button class="page-link btn-sm" (click)="page = page + 1">Next</button>
        </li>
      </ul>
    </nav>
  </div>
</div>
